{"version":3,"file":"manage.min.js","sources":["../src/manage.js"],"sourcesContent":["/**\n * @copyright 2020 Andrew Hancox at Open Source Learning <andrewdchancox@googlemail.com>\n * @copyright 2020 Ian Jones at Loughborough University <I.Jones@lboro.ac.uk>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/ajax', 'core/notification'],\n    function($, ajax, notification) {\n        return {\n            init: function(entitytype) {\n                $(document).on('change', 'input.excludeentity', function () {\n                    var chkbox = $(this);\n                    var entityid = chkbox.data('entityid');\n                    var state = chkbox.is(':checked');\n                    chkbox.attr('disabled', 'disabled');\n\n                    ajax.call([{\n                        methodname: 'assignsubmission_comparativejudgement_toggle_exclusion',\n                        args: {entityid: entityid, state: state, entitytype: entitytype}\n                    }])[0].then(function() {\n                        chkbox.removeAttr('disabled', 'disabled');\n                        return true;\n                    }).fail(notification.exception);\n                });\n            }\n        };\n    });"],"names":["define","$","ajax","notification","init","entitytype","document","on","chkbox","this","entityid","data","state","is","attr","call","methodname","args","then","removeAttr","fail","exception"],"mappings":";;;;;AAMAA,sDAAO,CAAC,SAAU,YAAa,sBAC3B,SAASC,EAAGC,KAAMC,oBACP,CACHC,KAAM,SAASC,YACXJ,EAAEK,UAAUC,GAAG,SAAU,uBAAuB,eACxCC,OAASP,EAAEQ,MACXC,SAAWF,OAAOG,KAAK,YACvBC,MAAQJ,OAAOK,GAAG,YACtBL,OAAOM,KAAK,WAAY,YAExBZ,KAAKa,KAAK,CAAC,CACPC,WAAY,yDACZC,KAAM,CAACP,SAAUA,SAAUE,MAAOA,MAAOP,WAAYA,eACrD,GAAGa,MAAK,kBACRV,OAAOW,WAAW,WAAY,aACvB,KACRC,KAAKjB,aAAakB"}